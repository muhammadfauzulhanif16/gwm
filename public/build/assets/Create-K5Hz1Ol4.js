import{W as h,j as s,B as u,G as g,h as n}from"./app-GN6kLJRO.js";import{c as M,S as j,A as b,F as y}from"./AppLayout-Gf3vqqpC.js";import{P as S,T as k}from"./PageHeader-OuuI5Bp2.js";import{T as v}from"./TextInput-v4RmyZAk.js";import{I,a as D}from"./IconTrash-WrNuQE2f.js";import{I as E}from"./IconCornerDownLeft-2Qks2vrS.js";import{K as T}from"./Kbd-Cj2wMUF5.js";const G=({title:l,description:d,socialMedias:c,auth:m})=>{const a=h({socialMedias:[{name:""}]}),p=()=>{a.setData("socialMedias",[...a.data.socialMedias,{name:""}])},x=o=>{a.setData("socialMedias",a.data.socialMedias.filter((e,r)=>r!==o))};return s.jsx(M,{title:l,auth:m,children:s.jsxs("form",{style:{display:"flex",flexDirection:"column",gap:40},onSubmit:o=>{o.preventDefault(),a.post(route("social-medias.store"))},children:[s.jsx(S,{title:l,description:d}),s.jsxs(u,{bg:"gray.0",p:20,style:{borderRadius:8},children:[s.jsx(k,{c:"gray.7",fz:14,mb:8,fw:500,children:"Nama"}),s.jsx(j,{gap:12,children:a.data.socialMedias.map((o,e)=>s.jsxs(g,{gap:8,children:[s.jsx(v,{autoFocus:!0,variant:"filled",placeholder:`Masukkan nama media sosial (${e+1})`,styles:{input:{padding:20,height:40}},style:{flexGrow:1},onChange:r=>{const t=r.target.value;let i="";t?c.some(f=>new RegExp(`^${t}$`,"i").test(f.name))&&(i="Nama media sosial sudah ada"):i="Nama media sosial tidak boleh kosong",a.data.socialMedias[e].name=t,a.setData("socialMedias",a.data.socialMedias),i?a.setError(`socialMedias.${e}.name`,i):a.clearErrors(`socialMedias.${e}.name`)},error:a.errors[`socialMedias.${e}.name`]}),s.jsx(b,{size:40,variant:"light",color:"red",onClick:()=>x(e),disabled:a.data.socialMedias.length===1,children:s.jsx(I,{})})]},e))})]}),s.jsxs(y,{justify:"flex-end",direction:{base:"column",xs:"row"},gap:8,children:[s.jsx(n,{h:40,px:20,variant:"outline",leftSection:s.jsx(D,{}),onClick:p,disabled:a.processing,children:"Tambah Media Sosial Lainnya"}),s.jsx(n,{disabled:a.hasErrors||a.data.socialMedias.some(o=>!o.name),loading:a.processing,loaderProps:{type:"dots"},type:"submit",h:40,px:20,leftSection:s.jsx(E,{}),rightSection:s.jsx(T,{children:"Enter"}),children:"Simpan"})]})]})})};export{G as default};
