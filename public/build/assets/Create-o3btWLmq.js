import{W as x,j as e,B as h,G as f,h as l}from"./app-GN6kLJRO.js";import{c as u,S as g,A as y,F as k}from"./AppLayout-Gf3vqqpC.js";import{P as v,T as E}from"./PageHeader-OuuI5Bp2.js";import{T as I}from"./TextInput-v4RmyZAk.js";import{I as S,a as D}from"./IconTrash-WrNuQE2f.js";import{I as T}from"./IconCornerDownLeft-2Qks2vrS.js";import{K as $}from"./Kbd-Cj2wMUF5.js";const L=({title:i,description:m,jobs:c,auth:d})=>{const a=x({jobs:[{name:""}]}),j=()=>{a.setData("jobs",[...a.data.jobs,{name:""}])},p=o=>{a.setData("jobs",a.data.jobs.filter((s,t)=>t!==o))};return e.jsx(u,{title:i,auth:d,children:e.jsxs("form",{style:{display:"flex",flexDirection:"column",gap:40},onSubmit:o=>{o.preventDefault(),a.post(route("jobs.store"))},children:[e.jsx(v,{title:i,description:m}),e.jsxs(h,{bg:"gray.0",p:20,style:{borderRadius:8},children:[e.jsx(E,{c:"gray.7",fz:14,mb:8,fw:500,children:"Nama"}),e.jsx(g,{gap:12,children:a.data.jobs.map((o,s)=>e.jsxs(f,{mb:a.hasErrors&&20,gap:8,children:[e.jsx(I,{autoFocus:!0,variant:"filled",placeholder:`Masukkan nama pekerjaan (${s+1})`,styles:{input:{padding:20,height:40}},style:{flexGrow:1},onChange:t=>{const n=t.target.value;let r="";n?c.some(b=>new RegExp(`^${n}$`,"i").test(b.name))&&(r="Nama pekerjaan sudah ada"):r="Nama pekerjaan tidak boleh kosong",a.data.jobs[s].name=n,a.setData("jobs",a.data.jobs),r?a.setError(`jobs.${s}.name`,r):a.clearErrors(`jobs.${s}.name`)},error:a.errors[`jobs.${s}.name`]}),e.jsx(y,{size:40,variant:"light",color:"red",onClick:()=>p(s),disabled:a.data.jobs.length===1,children:e.jsx(S,{})})]},s))})]}),e.jsxs(k,{justify:"flex-end",direction:{base:"column",xs:"row"},gap:8,children:[e.jsx(l,{h:40,px:20,variant:"outline",leftSection:e.jsx(D,{}),onClick:j,disabled:a.processing,children:"Tambah Pekerjaan Lainnya"}),e.jsx(l,{disabled:a.hasErrors||a.data.jobs.some(o=>!o.name),loading:a.processing,loaderProps:{type:"dots"},type:"submit",h:40,px:20,leftSection:e.jsx(T,{}),rightSection:e.jsx($,{children:"Enter"}),children:"Simpan"})]})]})})};export{L as default};
