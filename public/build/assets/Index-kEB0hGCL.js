import{j as e,y as d,h as T,n as C,G as t}from"./app-GN6kLJRO.js";import{c as P,S as r,A as u,M as c,f as v,g as K,h as A,i as D,j as S,k as f}from"./AppLayout-Gf3vqqpC.js";import{P as _,T as i}from"./PageHeader-OuuI5Bp2.js";import{T as n,I as B,a as R,D as w,b as G,c as H}from"./DataTable-GzvR40te.js";import{C as L,A as M,p as E,a as J,G as U,P as N}from"./GetChartColors-JEIviAnH.js";import{a as b,I as W}from"./IconTrash-WrNuQE2f.js";import{L as a}from"./List-pAa0s-MI.js";import{C as x}from"./Center-pRLDIHF5.js";import{T as I}from"./ThemeIcon-8WZSYl4b.js";import"./AccordionChevron-gv5R7zeZ.js";import"./Select-UtJL78W8.js";import"./TextInput-v4RmyZAk.js";import"./MultiSelect-GIHIZ9yY.js";L.register(M,E,J);const re=({title:j,description:y,meta:z,citizens:h,auth:o,genders:g})=>{const p=U(h.length),k={labels:g.map(({name:s})=>s),datasets:[{label:"orang",data:g.map(({citizen_genders_count:s})=>s),backgroundColor:p.map(s=>s[0]),borderColor:p.map(s=>s[1]),borderWidth:1}]};return e.jsx(P,{title:j,meta:z,auth:o,children:e.jsxs(r,{gap:40,children:[e.jsx(_,{title:j,description:y,actions:o.user&&e.jsxs(e.Fragment,{children:[e.jsx(u,{display:{base:"block",sm:"none"},size:40,onClick:()=>d.get(route("citizens.create")),children:e.jsx(b,{})}),e.jsx(T,{display:{base:"none",sm:"block"},h:40,px:20,leftSection:e.jsx(b,{}),onClick:()=>d.get(route("citizens.create")),children:"Tambah"})]})}),e.jsxs(n,{defaultValue:"table",styles:{tab:{padding:20},panel:{marginTop:20}},children:[e.jsxs(n.List,{grow:!0,children:[e.jsx(n.Tab,{value:"table",fw:500,fz:16,c:"gray.8",leftSection:e.jsx(B,{}),children:"Tabel"}),e.jsx(n.Tab,{value:"graphic",fw:500,fz:16,c:"gray.8",leftSection:e.jsx(R,{}),children:"Grafik"})]}),e.jsx(n.Panel,{value:"table",children:h.length?e.jsx(w,{data:h,columns:[{accessorKey:"name",header:"Nama"},{accessorKey:"gender",header:"Jenis Kelamin"},{accessorKey:"age",header:"Usia"},{accessorKey:"phone_number",header:"Nomor Telepon"},{accessorKey:"created_at",header:"Dibuat Pada"},{accessorKey:"updated_at",header:"Diperbarui Pada"}],enableRowActions:o.user,renderRowActions:o.user&&(({row:s})=>e.jsxs(c,{position:"bottom-end",withArrow:!0,trigger:"click-hover",styles:{dropdown:{padding:8}},children:[e.jsx(c.Target,{children:e.jsx(u,{size:40,variant:"subtle",color:"gray.9",c:"gray.9",children:e.jsx(G,{})})}),e.jsxs(c.Dropdown,{children:[e.jsx(c.Item,{color:"yellow",leftSection:e.jsx(H,{}),onClick:()=>d.get(route("citizens.edit",s.original.id)),children:"Ubah"}),e.jsx(c.Item,{color:"red",leftSection:e.jsx(W,{}),onClick:()=>C.openConfirmModal({styles:{content:{padding:20},header:{padding:0,minHeight:0,backgroundColor:"transparent"},body:{padding:0}},title:e.jsxs(i,{fw:500,c:"gray.9",children:["Hapus ",s.original.name,"?"]}),centered:!0,withCloseButton:!1,labels:{confirm:"Hapus",cancel:"Batal"},onConfirm:()=>d.delete(route("citizens.destroy",s.original.id))}),children:"Hapus"})]})]})),renderDetailPanel:({row:s})=>(console.log(s.original),e.jsxs(r,{gap:20,children:[e.jsxs(r,{gap:8,children:[e.jsxs(t,{gap:8,align:"center",children:[e.jsx(v,{size:24}),e.jsx(i,{fw:500,fz:14,children:"Alamat"})]}),e.jsxs(a,{spacing:"xs",size:"sm",center:!0,children:[e.jsxs(a.Item,{children:["RT : ",s.original.neighborhood]}),e.jsxs(a.Item,{children:["RW : ",s.original.hamlet]}),e.jsxs(a.Item,{children:["Desa/Kelurahan : ",s.original.urban_village]}),e.jsxs(a.Item,{children:["Kecamatan : ",s.original.sub_district]})]})]}),e.jsxs(r,{gap:8,children:[e.jsxs(t,{gap:8,align:"center",children:[e.jsx(K,{size:24}),e.jsx(i,{fw:500,fz:14,children:"Pekerjaan"})]}),e.jsxs(a,{spacing:"xs",size:"sm",center:!0,children:[e.jsxs(a.Item,{children:["Profesi : ",s.original.job.name]}),e.jsxs(a.Item,{children:["Jumlah Penghasilan : ",s.original.income]}),e.jsxs(a.Item,{children:["Jumlah Tanggungan : ",s.original.dependents]}),e.jsxs(a.Item,{children:["Tempat Kerja : ",s.original.workplace]}),e.jsxs(a.Item,{children:["Bidang Kerja : ",s.original.field]}),e.jsxs(a.Item,{children:["Skala Pekerjaan : ",s.original.scale]}),e.jsxs(a.Item,{children:["Deskripsi Pekerjaan : ",s.original.description]})]})]}),e.jsxs(r,{gap:8,children:[e.jsxs(t,{gap:8,align:"center",children:[e.jsx(A,{size:24}),e.jsx(i,{fw:500,fz:14,children:"Konsumsi"})]}),e.jsx(a,{spacing:"xs",size:"sm",center:!0,children:s.original.consumptions.map((l,m)=>e.jsxs(a.Item,{children:[l.time_period," : ",l.items]},m))})]}),e.jsxs(r,{gap:8,children:[e.jsxs(t,{gap:8,align:"center",children:[e.jsx(D,{size:24}),e.jsx(i,{fw:500,fz:14,children:"Ibadah"})]}),e.jsx(a,{spacing:"xs",size:"sm",center:!0,children:s.original.prayers.map((l,m)=>e.jsxs(a.Item,{children:[l.name," : ",l.choice]},m))})]}),e.jsxs(r,{gap:8,children:[e.jsxs(t,{gap:8,align:"center",children:[e.jsx(S,{size:24}),e.jsx(i,{fw:500,fz:14,children:"Media Sosial"})]}),e.jsx(a,{spacing:"xs",size:"sm",center:!0,children:e.jsxs(a.Item,{children:["Aplikasi : ",s.original.social_medias]})})]})]}))}):e.jsxs(x,{mih:"50vh",bg:"gray.0",style:{borderRadius:8,justifyContent:"center",alignItems:"center",display:"flex",flexDirection:"column",gap:20,color:"gray.0"},children:[e.jsx(I,{variant:"light",size:40,children:e.jsx(f,{})}),e.jsx(i,{fw:500,c:"gray.7",children:"Belum ada data warga"})]})}),e.jsx(n.Panel,{value:"graphic",children:g.length?e.jsx(x,{mih:"50vh",children:e.jsx(N,{data:k})}):e.jsxs(x,{p:20,h:"50vh",bg:"gray.0",style:{borderRadius:8,justifyContent:"center",alignItems:"center",display:"flex",flexDirection:"column",gap:20,color:"gray.0"},children:[e.jsx(I,{variant:"light",size:40,children:e.jsx(f,{})}),e.jsx(i,{fw:500,c:"gray.7",align:"center",children:"Belum ada data warga"})]})})]})]})})};export{re as default};
