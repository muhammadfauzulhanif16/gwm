import{j as e,y as n,h as y,n as b}from"./app-GN6kLJRO.js";import{c as f,S as d,A as h,M as r,h as g}from"./AppLayout-Gf3vqqpC.js";import{P as I,T as t}from"./PageHeader-OuuI5Bp2.js";import{T as s,I as k,a as T,D as w,b as v,c as C}from"./DataTable-GzvR40te.js";import{a as p,I as P}from"./IconTrash-WrNuQE2f.js";import{C as o}from"./Center-pRLDIHF5.js";import{T as u}from"./ThemeIcon-8WZSYl4b.js";import"./AccordionChevron-gv5R7zeZ.js";import"./Select-UtJL78W8.js";import"./TextInput-v4RmyZAk.js";import"./MultiSelect-GIHIZ9yY.js";const G=({title:l,description:m,meta:x,consumptions:c,auth:i,citizens:j})=>e.jsx(f,{title:l,meta:x,auth:i,children:e.jsxs(d,{gap:40,children:[e.jsx(I,{title:l,description:m,actions:i.user&&e.jsxs(e.Fragment,{children:[e.jsx(h,{display:{base:"block",sm:"none"},size:40,onClick:()=>n.get(route("consumptions.create")),children:e.jsx(p,{})}),e.jsx(y,{display:{base:"none",sm:"block"},h:40,px:20,leftSection:e.jsx(p,{}),onClick:()=>n.get(route("consumptions.create")),children:"Tambah"})]})}),e.jsxs(s,{defaultValue:"table",styles:{tab:{padding:20},panel:{marginTop:20}},children:[e.jsxs(s.List,{grow:!0,children:[e.jsx(s.Tab,{value:"table",fw:500,fz:16,c:"gray.8",leftSection:e.jsx(k,{}),children:"Tabel"}),e.jsx(s.Tab,{value:"graphic",fw:500,fz:16,c:"gray.8",leftSection:e.jsx(T,{}),children:"Grafik"})]}),e.jsx(s.Panel,{value:"table",children:c.length?e.jsx(w,{data:c,columns:[{accessorKey:"name",header:"Nama"},{accessorKey:"created_at",header:"Dibuat Pada"},{accessorKey:"updated_at",header:"Diperbarui Pada"}],enableRowActions:i.user,renderRowActions:({row:a})=>e.jsxs(r,{position:"bottom-end",withArrow:!0,trigger:"click-hover",styles:{dropdown:{padding:8}},children:[e.jsx(r.Target,{children:e.jsx(h,{size:40,variant:"subtle",color:"gray.9",c:"gray.9",children:e.jsx(v,{})})}),e.jsxs(r.Dropdown,{children:[e.jsx(r.Item,{color:"yellow",leftSection:e.jsx(C,{}),onClick:()=>n.get(route("consumptions.edit",a.original.id)),children:"Ubah"}),e.jsx(r.Item,{color:"red",leftSection:e.jsx(P,{}),onClick:()=>b.openConfirmModal({styles:{content:{padding:20},header:{padding:0,minHeight:0,backgroundColor:"transparent"},body:{padding:0}},title:e.jsxs(t,{fw:500,c:"gray.9",children:["Hapus ",a.original.name,"?"]}),centered:!0,withCloseButton:!1,labels:{confirm:"Hapus",cancel:"Batal"},onConfirm:()=>n.delete(route("consumptions.destroy",a.original.id))}),children:"Hapus"})]})]})}):e.jsxs(o,{mih:"50vh",bg:"gray.0",style:{borderRadius:8,justifyContent:"center",alignItems:"center",display:"flex",flexDirection:"column",gap:20,color:"gray.0"},children:[e.jsx(u,{variant:"light",size:40,children:e.jsx(g,{})}),e.jsx(t,{fw:500,c:"gray.7",children:"Belum ada data konsumsi"})]})}),e.jsx(s.Panel,{value:"graphic",children:j.length?e.jsxs(d,{gap:20,children:[e.jsx(Flex,{justify:"flex-end",children:e.jsx(Select,{w:{base:"100%",xs:"auto"},autoFocus:!0,checkIconPosition:"right",radius:8,nothingFoundMessage:"Tidak ada ibadah",searchable:!0,value:selectedPrayer,variant:"filled",placeholder:"Pilih ibadah",data:prayers.map(({name:a})=>a),styles:{input:{padding:20,height:40},label:{marginBottom:8,color:"#495057"},dropdown:{padding:8,borderRadius:8},option:{borderRadius:8}},onChange:a=>setSelectedPrayer(a)})}),e.jsx(o,{mih:"100vh",children:e.jsx(Pie,{data})})]}):e.jsxs(o,{p:20,h:"50vh",bg:"gray.0",style:{borderRadius:8,justifyContent:"center",alignItems:"center",display:"flex",flexDirection:"column",gap:20,color:"gray.0"},children:[e.jsx(u,{variant:"light",size:40,children:e.jsx(g,{})}),e.jsx(t,{fw:500,c:"gray.7",align:"center",children:"Belum ada data konsumsi yang digunakan oleh warga"})]})})]})]})});export{G as default};
