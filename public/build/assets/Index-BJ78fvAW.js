import{j as e,y as t,h as f,n as y}from"./app-GN6kLJRO.js";import{c as C,S as I,A as h,M as s,g as p}from"./AppLayout-Gf3vqqpC.js";import{P as T,T as l}from"./PageHeader-OuuI5Bp2.js";import{T as r,I as k,a as w,D as v,b as P,c as A}from"./DataTable-GzvR40te.js";import{C as D,A as S,p as B,a as H,G as R,P as G}from"./GetChartColors-JEIviAnH.js";import{a as m,I as _}from"./IconTrash-WrNuQE2f.js";import{C as i}from"./Center-pRLDIHF5.js";import{T as x}from"./ThemeIcon-8WZSYl4b.js";import"./AccordionChevron-gv5R7zeZ.js";import"./Select-UtJL78W8.js";import"./TextInput-v4RmyZAk.js";import"./MultiSelect-GIHIZ9yY.js";D.register(S,B,H);const O=({title:c,description:j,meta:u,jobs:d,auth:n,citizens:o})=>{const g=R(o.length),b={labels:o.map(({name:a})=>a),datasets:[{label:"orang",data:o.map(({citizen_jobs_count:a})=>a),backgroundColor:g.map(a=>a[0]),borderColor:g.map(a=>a[1]),borderWidth:1}]};return e.jsx(C,{title:c,meta:u,auth:n,children:e.jsxs(I,{gap:40,children:[e.jsx(T,{title:c,description:j,actions:n.user&&e.jsxs(e.Fragment,{children:[e.jsx(h,{display:{base:"block",sm:"none"},size:40,onClick:()=>t.get(route("jobs.create")),children:e.jsx(m,{})}),e.jsx(f,{display:{base:"none",sm:"block"},h:40,px:20,leftSection:e.jsx(m,{}),onClick:()=>t.get(route("jobs.create")),children:"Tambah"})]})}),e.jsxs(r,{defaultValue:"table",styles:{tab:{padding:20},panel:{marginTop:20}},children:[e.jsxs(r.List,{grow:!0,children:[e.jsx(r.Tab,{value:"table",fw:500,fz:16,c:"gray.8",leftSection:e.jsx(k,{}),children:"Tabel"}),e.jsx(r.Tab,{value:"graphic",fw:500,fz:16,c:"gray.8",leftSection:e.jsx(w,{}),children:"Grafik"})]}),e.jsx(r.Panel,{value:"table",children:d.length?e.jsx(v,{data:d,columns:[{accessorKey:"name",header:"Nama"},{accessorKey:"created_at",header:"Dibuat Pada"},{accessorKey:"updated_at",header:"Diperbarui Pada"}],enableRowActions:n.user,renderRowActions:({row:a})=>e.jsxs(s,{position:"bottom-end",withArrow:!0,trigger:"click-hover",styles:{dropdown:{padding:8}},children:[e.jsx(s.Target,{children:e.jsx(h,{size:40,variant:"subtle",color:"gray.9",c:"gray.9",children:e.jsx(P,{})})}),e.jsxs(s.Dropdown,{children:[e.jsx(s.Item,{color:"yellow",leftSection:e.jsx(A,{}),onClick:()=>t.get(route("jobs.edit",a.original.id)),children:"Ubah"}),e.jsx(s.Item,{color:"red",leftSection:e.jsx(_,{}),onClick:()=>y.openConfirmModal({styles:{content:{padding:20},header:{padding:0,minHeight:0,backgroundColor:"transparent"},body:{padding:0}},title:e.jsxs(l,{fw:500,c:"gray.9",children:["Hapus ",a.original.name,"?"]}),centered:!0,withCloseButton:!1,labels:{confirm:"Hapus",cancel:"Batal"},onConfirm:()=>t.delete(route("jobs.destroy",a.original.id))}),children:"Hapus"})]})]})}):e.jsxs(i,{mih:"50vh",bg:"gray.0",style:{borderRadius:8,justifyContent:"center",alignItems:"center",display:"flex",flexDirection:"column",gap:20,color:"gray.0"},children:[e.jsx(x,{variant:"light",size:40,children:e.jsx(p,{})}),e.jsx(l,{fw:500,c:"gray.7",children:"Belum ada data media sosial"})]})}),e.jsx(r.Panel,{value:"graphic",children:o.length?e.jsx(i,{mih:"50vh",children:e.jsx(G,{data:b})}):e.jsxs(i,{p:20,h:"50vh",bg:"gray.0",style:{borderRadius:8,justifyContent:"center",alignItems:"center",display:"flex",flexDirection:"column",gap:20,color:"gray.0"},children:[e.jsx(x,{variant:"light",size:40,children:e.jsx(p,{})}),e.jsx(l,{fw:500,c:"gray.7",align:"center",children:"Belum ada data pekerjaan yang dilakukan warga"})]})})]})]})})};export{O as default};
